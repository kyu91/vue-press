<!doctype html>
<html lang="ko" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.71" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://www.h-levi.me/vue-press/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK08-PintOS_Project1_Threads.html"><meta property="og:site_name" content="It's Blog"><meta property="og:title" content="WEEK08-PintOS_Project1_Threads"><meta property="og:description" content="SWì‚¬ê´€í•™êµ ì •ê¸€ 5ê¸° 8ì£¼ì°¨ íšŒê³ "><meta property="og:type" content="article"><meta property="og:locale" content="ko"><meta property="og:updated_time" content="2024-09-04T15:24:43.000Z"><meta property="article:tag" content="SWì‚¬ê´€í•™êµì •ê¸€"><meta property="article:tag" content="Develop"><meta property="article:published_time" content="2022-11-17T00:00:00.000Z"><meta property="article:modified_time" content="2024-09-04T15:24:43.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"WEEK08-PintOS_Project1_Threads","image":[""],"datePublished":"2022-11-17T00:00:00.000Z","dateModified":"2024-09-04T15:24:43.000Z","author":[{"@type":"Person","name":"Levi","url":"https://www.h-levi.me"}]}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-6PC30T52FB"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-6PC30T52FB');</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2964121704331756" crossorigin="anonymous"></script><script async src="https://tally.so/widgets/embed.js"></script><meta name="keywords" content="VuePress, ê¸°ìˆ  ë¸”ë¡œê·¸, SEO, ì›¹ ê°œë°œ, Python, ìƒì‚°ì„±, Vue, ê°œë°œì, Tools, ìë™í™”, levi"><meta name="naver-site-verification" content="c9aa016fd222261011af1571bbf97b7cabc625e8"><link rel="canonical" href="https://www.levih.me/"><meta name="description" content="VuePressë¡œ ì œì‘ëœ ê¸°ìˆ  ë¸”ë¡œê·¸ë¡œ, SEO, ì›¹ ê°œë°œ, Python ë“± ìœ ìµí•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."><meta property="og:description" content="VuePressë¡œ ì œì‘ëœ ê¸°ìˆ  ë¸”ë¡œê·¸ë¡œ, SEO, ì›¹ ê°œë°œ, Python ë“± ìœ ìµí•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."><meta name="robots" content="index, follow"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="It's Blog"><meta name="twitter:description" content="VuePressë¡œ ì œì‘ëœ ê¸°ìˆ  ë¸”ë¡œê·¸ë¡œ, SEO, ì›¹ ê°œë°œ, Python ë“± ìœ ìµí•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."><meta name="twitter:image" content="https://www.levih.me/about.svg"><link rel="alternate" type="application/rss+xml" href="https://www.h-levi.me/vue-press/vue-press/rss.xml" title="It's Blog RSS Feed"><title>WEEK08-PintOS_Project1_Threads | It's Blog</title>
    <link rel="preload" href="/vue-press/assets/style-ZNf9aw_V.css" as="style"><link rel="stylesheet" href="/vue-press/assets/style-ZNf9aw_V.css">
    <link rel="modulepreload" href="/vue-press/assets/app-Og-obTMj.js"><link rel="modulepreload" href="/vue-press/assets/WEEK08-PintOS_Project1_Threads.html-C3BYWEPs.js"><link rel="modulepreload" href="/vue-press/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/vue-press/assets/index.html-BztqbyPz.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CklvWBMb.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-Dp02fM8-.js" as="script"><link rel="prefetch" href="/vue-press/assets/ë¬´ì—‡ì´-ë‚˜ë¥¼-í–‰ë³µí•˜ê²Œ-ë§Œë“œëŠ”ê°€.html-BtaxwKtd.js" as="script"><link rel="prefetch" href="/vue-press/assets/Python-PyQt5-MVP.html-mwIydlek.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-C4w-7Te-.js" as="script"><link rel="prefetch" href="/vue-press/assets/VPN-VPC-VPS-ì •ë¦¬.html-C0L-Hcyb.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CudqFg2v.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CcKorb9T.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DeKXB_4E.js" as="script"><link rel="prefetch" href="/vue-press/assets/10ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-8ì¥ ë‹¨ìœ„ ê²½ì œí•™.html-DmxX0t30.js" as="script"><link rel="prefetch" href="/vue-press/assets/11ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-9ì¥ ê³ ê° ê²½ì œí•™.html-hjx4bapn.js" as="script"><link rel="prefetch" href="/vue-press/assets/12ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-10ì¥_ 11ì¥.html-kx_ZSyoM.js" as="script"><link rel="prefetch" href="/vue-press/assets/13ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-12ì¥-1.html-vGFi-A5T.js" as="script"><link rel="prefetch" href="/vue-press/assets/14ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-12ì¥-2.html-DeAa_JQM.js" as="script"><link rel="prefetch" href="/vue-press/assets/15ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-12ì¥-3.html-DgGAIC3-.js" as="script"><link rel="prefetch" href="/vue-press/assets/16ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-12ì¥~13ì¥.html-CjjPjUGt.js" as="script"><link rel="prefetch" href="/vue-press/assets/17ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-13ì¥-2.html-CKCNQwLp.js" as="script"><link rel="prefetch" href="/vue-press/assets/18ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-14ì¥.html-BsRDfSzY.js" as="script"><link rel="prefetch" href="/vue-press/assets/19ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-15ì¥-01.html-BqqQ6H3i.js" as="script"><link rel="prefetch" href="/vue-press/assets/1ì¼ì°¨_7ê°€ì§€ì½”ë“œ-ì²« ë‚  ë‹¤ì§.html-T5mgkkgc.js" as="script"><link rel="prefetch" href="/vue-press/assets/20ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-15ì¥-02.html--7bA_6Qt.js" as="script"><link rel="prefetch" href="/vue-press/assets/21ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-15ì¥_ 16ì¥.html-CyLFsXqh.js" as="script"><link rel="prefetch" href="/vue-press/assets/22ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-16ì¥.html-Dm40lg6A.js" as="script"><link rel="prefetch" href="/vue-press/assets/23ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-16ì¥_ 17ì¥.html-DY_FyD7j.js" as="script"><link rel="prefetch" href="/vue-press/assets/24ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-17ì¥.html-oSFPb8EI.js" as="script"><link rel="prefetch" href="/vue-press/assets/25ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-18ì¥.html-D7XynLM8.js" as="script"><link rel="prefetch" href="/vue-press/assets/26ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-18ì¥_ 19ì¥.html-BMlvib69.js" as="script"><link rel="prefetch" href="/vue-press/assets/27ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-19ì¥.html-DxA1XlOa.js" as="script"><link rel="prefetch" href="/vue-press/assets/28ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-20ì¥.html-CTwScm_5.js" as="script"><link rel="prefetch" href="/vue-press/assets/29ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-21ì¥.html-CCFee6sR.js" as="script"><link rel="prefetch" href="/vue-press/assets/2ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ì œí’ˆ ì„¤ê³„ 1ì¥.html-zGT5n_5C.js" as="script"><link rel="prefetch" href="/vue-press/assets/30ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-21ì¥-2.html-BP-NA68O.js" as="script"><link rel="prefetch" href="/vue-press/assets/31ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-22ì¥.html-BmzLdCYw.js" as="script"><link rel="prefetch" href="/vue-press/assets/32ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-22_ 23ì¥.html-kiqlKBG4.js" as="script"><link rel="prefetch" href="/vue-press/assets/33ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-23ì¥.html-CuKWo_vv.js" as="script"><link rel="prefetch" href="/vue-press/assets/34ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-24ì¥.html-BNnQSAfO.js" as="script"><link rel="prefetch" href="/vue-press/assets/35ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-25ì¥.html-DAyTzMhf.js" as="script"><link rel="prefetch" href="/vue-press/assets/36ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-25ì¥-2.html-DxhFGIzv.js" as="script"><link rel="prefetch" href="/vue-press/assets/37ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-26ì¥.html-C4cEmNvY.js" as="script"><link rel="prefetch" href="/vue-press/assets/38ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-26_ 27ì¥.html-CUQgJgNw.js" as="script"><link rel="prefetch" href="/vue-press/assets/39ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-27_ 28ì¥.html-BcIPCKkv.js" as="script"><link rel="prefetch" href="/vue-press/assets/3ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ì œí’ˆ ì„¤ê³„ 2ì¥.html-Dve_7eiy.js" as="script"><link rel="prefetch" href="/vue-press/assets/40ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-28ì¥.html-DGMuF8Rt.js" as="script"><link rel="prefetch" href="/vue-press/assets/41ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-29_ 30ì¥.html-B3JIziA9.js" as="script"><link rel="prefetch" href="/vue-press/assets/42ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-30ì¥.html-D_0uytia.js" as="script"><link rel="prefetch" href="/vue-press/assets/43ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-31ì¥.html-D5Lb2Wdt.js" as="script"><link rel="prefetch" href="/vue-press/assets/44ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-31_ 32.html-BLZU9pZl.js" as="script"><link rel="prefetch" href="/vue-press/assets/45ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-32_ 33ì¥.html-OaOST3bg.js" as="script"><link rel="prefetch" href="/vue-press/assets/46ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-33ì¥.html-ByD-HDZo.js" as="script"><link rel="prefetch" href="/vue-press/assets/47ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-34ì¥.html-DbSO1wQ6.js" as="script"><link rel="prefetch" href="/vue-press/assets/48ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-35ì¥.html-CXrZ6PvA.js" as="script"><link rel="prefetch" href="/vue-press/assets/4ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ì œí’ˆ ì„¤ê³„ 3ì¥.html-DPznlKKU.js" as="script"><link rel="prefetch" href="/vue-press/assets/5ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ì œí’ˆì„¤ê³„ 4ì¥.html-Bb1k1AND.js" as="script"><link rel="prefetch" href="/vue-press/assets/6ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ì œí’ˆì„¤ê³„ 1ì¥ ëê¹Œì§€.html-kOBfdH-H.js" as="script"><link rel="prefetch" href="/vue-press/assets/7ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ë¹„ì§€ë‹ˆìŠ¤ëª¨ë¸.html-Dftb14y7.js" as="script"><link rel="prefetch" href="/vue-press/assets/8ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ì‹œì¥ì§„ì….html-HorgY7yQ.js" as="script"><link rel="prefetch" href="/vue-press/assets/9ì¼ì°¨_7ê°€ì§€ ì½”ë“œ-ì„ íƒì‚¬í•­ ë¹„êµ ë° í•´ì.html-CKLhO2cm.js" as="script"><link rel="prefetch" href="/vue-press/assets/intro.html-5lkvO4OR.js" as="script"><link rel="prefetch" href="/vue-press/assets/1ì¼ì°¨_ì²« ë‚  ë‹¤ì§.html-Ca7yTOfn.js" as="script"><link rel="prefetch" href="/vue-press/assets/2ì¼ì°¨_ë§ˆì¼€íŒ… ì„¤ê³„ì-í¼ë„ì´ë€ ë¬´ì—‡ì¸ê°€.html-CS0yhx9L.js" as="script"><link rel="prefetch" href="/vue-press/assets/3ì¼ì°¨_ë§ˆì¼€íŒ… ì„¤ê³„ì-í¼ë„ì´ë€ ë¬´ì—‡ì¸ê°€_ë¹„ë°€ê³µì‹.html-ZRC7JUcg.js" as="script"><link rel="prefetch" href="/vue-press/assets/4ì¼ì°¨_ë¹„ë°€ ê³µì‹-ë.html-wFmC9a8V.js" as="script"><link rel="prefetch" href="/vue-press/assets/5ì¼ì°¨_í›„í¬_ ìŠ¤í† ë¦¬_ ì œì•ˆ-1.html-CdQeDyGv.js" as="script"><link rel="prefetch" href="/vue-press/assets/6ì¼ì°¨_í›„í¬_ ìŠ¤í† ë¦¬_ ì œì•ˆ-2.html-BvewtttT.js" as="script"><link rel="prefetch" href="/vue-press/assets/intro.html-CGB7omJo.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CVsQ4B1K.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK00-ì‹œì‘.html-BCxgRdz9.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK00-ì…ì„±ì „.html-CbgRJbAO.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK02-íšŒê³ .html-BHCVt067.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK03-íšŒê³ .html-Czk9G_qW.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK05-RedBlackTree êµ¬í˜„_C.html-efbAtqFp.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK06-mallocí•¨ìˆ˜ êµ¬í˜„_C.html-BTB6d6Bx.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK07-ì›¹ ì„œë²„ êµ¬ì¶•(Tinyì„œë²„_ Proxy)_Cì–¸ì–´.html-DvdOYz0l.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK09-Pintos_Project2_User Program.html-C4iPOGAR.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK10-íšŒê³ .html-D0jSfsfA.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK10~13-Pintos_Project3_Virtual Memory.html-BLl_dBaL.js" as="script"><link rel="prefetch" href="/vue-press/assets/WEEK13-Pintos_Project3_íšŒê³ .html-Dxc-aGeb.js" as="script"><link rel="prefetch" href="/vue-press/assets/CACì™€ LTVì˜ ì •ì˜ ë° ê´€ê³„(7ê°€ì§€ì½”ë“œ).html-bfojgQWJ.js" as="script"><link rel="prefetch" href="/vue-press/assets/MVPì™€ RATì— ëŒ€í•œ ì •ë¦¬.html-BGHG9OxM.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DWcVtQj2.js" as="script"><link rel="prefetch" href="/vue-press/assets/URLì„ ì´í•´í•˜ê³  ì—…ë¬´íš¨ìœ¨ ì¦ê°€ ë° ê°œì¸ë³´ì•ˆ.html-D-0T2WwE.js" as="script"><link rel="prefetch" href="/vue-press/assets/ê²€ìƒ‰ ì—”ì§„ ìµœì í™”(SEO) ì •ì˜ì™€ ì ìš© ë°©ë²•.html-BGv0owD4.js" as="script"><link rel="prefetch" href="/vue-press/assets/ë¬¸ì œë¥¼-í•´ê²°í•˜ëŠ”-ë°©ë²•.html-fWrVHr58.js" as="script"><link rel="prefetch" href="/vue-press/assets/DDEVIë¡œ-ì–´ë¨¸ë‹ˆ-íšŒì‚¬-í™ˆí˜ì´ì§€-ë§Œë“¤ì–´-ì£¼ê¸°.html-B1Ur6Srp.js" as="script"><link rel="prefetch" href="/vue-press/assets/Notion ìœ ë£Œ í”Œëœ ì‚¬ìš© í›„ê¸°(Notion ë¸”ë¡œê·¸ í›„ê¸°).html-CMC1tead.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BGbBMLaj.js" as="script"><link rel="prefetch" href="/vue-press/assets/ì‚½ì§ˆ ê·¸ë§Œí•˜ê³  oopy.io ì‚¬ìš©í•˜ê¸°.html-BjSs3Zds.js" as="script"><link rel="prefetch" href="/vue-press/assets/404.html-CQaF7crF.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-GQptHUrL.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-ByEK-04g.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CeSWEHBS.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-B7W8BjPi.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DLPcBrDX.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DqF1KzTw.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BQMUywXi.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-D1YW6Je_.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-9ThXJQDH.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DmqwPLGJ.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BzTBTQnb.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-Bh6IaNK9.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DOWSZXHZ.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CKLJ0_h1.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-D5CXsSCM.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BveiZSaK.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DpkuiYtS.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-Nm08ENpY.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-bM23AVOo.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-i7vp75v8.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CoUFXSDi.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-CtygXYik.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-Cq1P-rPb.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DgaAo1nP.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BaGezdh4.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BItuzwsG.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BNICrhSU.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-B6-XOXex.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-qJZFXTmG.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-DaAcKE0o.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-xi0055uv.js" as="script"><link rel="prefetch" href="/vue-press/assets/index.html-BNQbaIwb.js" as="script"><link rel="prefetch" href="/vue-press/assets/auto-BsvuWMA9.js" as="script"><link rel="prefetch" href="/vue-press/assets/index-BZSEhAeG.js" as="script"><link rel="prefetch" href="/vue-press/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/vue-press/assets/playground.min-DiztBpsf.js" as="script"><link rel="prefetch" href="/vue-press/assets/index-Udu42ZIW.js" as="script"><link rel="prefetch" href="/vue-press/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/vue-press/assets/index-BHzP5aLT.js" as="script"><link rel="prefetch" href="/vue-press/assets/mermaid.esm.min-6RZnQImt.js" as="script"><link rel="prefetch" href="/vue-press/assets/vue-repl-DMex1ROb.js" as="script"><link rel="prefetch" href="/vue-press/assets/codemirror-editor-CbYfeK6I.js" as="script"><link rel="prefetch" href="/vue-press/assets/SandPack-CJkus6Uj.js" as="script"><link rel="prefetch" href="/vue-press/assets/reveal.esm-B3O8JSaZ.js" as="script"><link rel="prefetch" href="/vue-press/assets/markdown.esm-DotuGrRK.js" as="script"><link rel="prefetch" href="/vue-press/assets/highlight.esm-UsqGfS9W.js" as="script"><link rel="prefetch" href="/vue-press/assets/math.esm-Cgto3ffo.js" as="script"><link rel="prefetch" href="/vue-press/assets/search.esm-BPaPUgSs.js" as="script"><link rel="prefetch" href="/vue-press/assets/notes.esm-DugvsDbc.js" as="script"><link rel="prefetch" href="/vue-press/assets/zoom.esm-CFEecXZN.js" as="script"><link rel="prefetch" href="/vue-press/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/vue-press/assets/SearchResult-bN4MKnVc.js" as="script"><link rel="prefetch" href="/vue-press/assets/setupDevtools-7MC2TMWH-NoIaf1PD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/vue-press/" aria-label="ë©”ì¸ìœ¼ë¡œ"><img class="vp-nav-logo" src="/vue-press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">It&#39;s Blog</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vue-press/" aria-label="Home" iconsizing="height"><!--[--><i class="vp-icon fas fa-home" sizing="height"></i><!--]-->Home<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vue-press/star/" aria-label="Star Post" iconsizing="height"><!--[--><i class="vp-icon fas fa-star" sizing="height"></i><!--]-->Star Post<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Category"><!--[--><i class="vp-icon fas fa-folder" sizing="height"></i>Category<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vue-press/category/tech-product/" aria-label="Tech Product" iconsizing="both"><!--[--><i class="vp-icon fas fa-apple-whole fa-fw" sizing="both"></i><!--]-->Tech Product<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vue-press/category/dev/" aria-label="Dev" iconsizing="both"><!--[--><i class="vp-icon fas fa-laptop fa-fw" sizing="both"></i><!--]-->Dev<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vue-press/category/books/" aria-label="Books" iconsizing="both"><!--[--><i class="vp-icon fas fa-book fa-fw" sizing="both"></i><!--]-->Books<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vue-press/about/" aria-label="About" iconsizing="height"><!--[--><i class="vp-icon fas fa-user" sizing="height"></i><!--]-->About<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vue-press/#tally-open=3Xq50O&amp;tally-layout=modal&amp;tally-emoji-text=ğŸ‘‹&amp;tally-emoji-animation=wave" aria-label="Contact us" iconsizing="height"><!--[--><i class="vp-icon fas fa-file-signature" sizing="height"></i><!--]-->Contact us<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/kyu91/kyu91.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="ê²€ìƒ‰"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">ê²€ìƒ‰</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><i class="vp-icon fas fa-apple-whole fa-fw" sizing="both"></i><span class="vp-sidebar-title">Tech Product</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon fas fa-compass fa-fw" sizing="both"></i><span class="vp-sidebar-title">PM</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon fas fa-diagram-project fa-fw" sizing="both"></i><span class="vp-sidebar-title">SaaS</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><i class="vp-icon fas fa-laptop-code fa-fw" sizing="both"></i><span class="vp-sidebar-title">Dev</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/VPN-VPC-VPS-%EC%A0%95%EB%A6%AC.html" aria-label="VPN, VPC, VPS ì •ë¦¬" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->VPN, VPC, VPS ì •ë¦¬<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/Python-PyQt5-MVP.html" aria-label="Pythonìœ¼ë¡œ ê³ ê° ê´€ë¦¬ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°-MVP ì„¤ê³„í¸" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->Pythonìœ¼ë¡œ ê³ ê° ê´€ë¦¬ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°-MVP ì„¤ê³„í¸<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><i class="vp-icon fas fa-graduation-cap fa-fw" sizing="both"></i><span class="vp-sidebar-title">SWì‚¬ê´€í•™êµì •ê¸€</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK00-%EC%8B%9C%EC%9E%91.html" aria-label="WEEK00-ì‹œì‘" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK00-ì‹œì‘<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK00-%EC%9E%85%EC%84%B1%EC%A0%84.html" aria-label="WEEK00-ì…ì„±ì „" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK00-ì…ì„±ì „<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK02-%ED%9A%8C%EA%B3%A0.html" aria-label="WEEK02-íšŒê³ " iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK02-íšŒê³ <!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK03-%ED%9A%8C%EA%B3%A0.html" aria-label="WEEK03-íšŒê³ " iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK03-íšŒê³ <!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK05-RedBlackTree%20%EA%B5%AC%ED%98%84_C.html" aria-label="WEEK05-RedBlackTree êµ¬í˜„_C" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK05-RedBlackTree êµ¬í˜„_C<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK06-malloc%ED%95%A8%EC%88%98%20%EA%B5%AC%ED%98%84_C.html" aria-label="WEEK06-mallocí•¨ìˆ˜ êµ¬í˜„_C" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK06-mallocí•¨ìˆ˜ êµ¬í˜„_C<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK07-%EC%9B%B9%20%EC%84%9C%EB%B2%84%20%EA%B5%AC%EC%B6%95(Tiny%EC%84%9C%EB%B2%84_%20Proxy)_C%EC%96%B8%EC%96%B4.html" aria-label="WEEK07-ì›¹ ì„œë²„ êµ¬ì¶•(Tinyì„œë²„, Proxy)_Cì–¸ì–´" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK07-ì›¹ ì„œë²„ êµ¬ì¶•(Tinyì„œë²„, Proxy)_Cì–¸ì–´<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK08-PintOS_Project1_Threads.html" aria-label="WEEK08-PintOS_Project1_Threads" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK08-PintOS_Project1_Threads<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK09-Pintos_Project2_User%20Program.html" aria-label="WEEK09-Pintos_Project2_User Program" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK09-Pintos_Project2_User Program<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK10-%ED%9A%8C%EA%B3%A0.html" aria-label="WEEK10-íšŒê³ " iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK10-íšŒê³ <!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK10~13-Pintos_Project3_Virtual%20Memory.html" aria-label="WEEK10~13-Pintos_Project3_Virtual Memory" iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK10~13-Pintos_Project3_Virtual Memory<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK13-Pintos_Project3_%ED%9A%8C%EA%B3%A0.html" aria-label="WEEK13-Pintos_Project3_íšŒê³ " iconsizing="both"><!--[--><i class="vp-icon fas fa-pen-to-square fa-fw" sizing="both"></i><!--]-->WEEK13-Pintos_Project3_íšŒê³ <!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><i class="vp-icon fas fa-landmark fa-fw" sizing="both"></i><span class="vp-sidebar-title">Books</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/books/7%EA%B0%80%EC%A7%80%EC%BD%94%EB%93%9C/intro.html" aria-label="7ê°€ì§€ ì½”ë“œ-ì´ì •ë¦¬" iconsizing="both"><!--[--><i class="vp-icon fas fa-book fa-fw" sizing="both"></i><!--]-->7ê°€ì§€ ì½”ë“œ-ì´ì •ë¦¬<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/books/%EB%AC%B4%EC%97%87%EC%9D%B4-%EB%82%98%EB%A5%BC-%ED%96%89%EB%B3%B5%ED%95%98%EA%B2%8C-%EB%A7%8C%EB%93%9C%EB%8A%94%EA%B0%80.html" aria-label="ë¬´ì—‡ì´ ë‚˜ë¥¼ í–‰ë³µí•˜ê²Œ ë§Œë“œëŠ”ê°€" iconsizing="both"><!--[--><i class="vp-icon fas fa-book fa-fw" sizing="both"></i><!--]-->ë¬´ì—‡ì´ ë‚˜ë¥¼ í–‰ë³µí•˜ê²Œ ë§Œë“œëŠ”ê°€<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vue-press/books/%EB%A7%88%EC%BC%80%ED%8C%85%EC%84%A4%EA%B3%84%EC%9E%90/intro.html" aria-label="ë§ˆì¼€íŒ… ì„¤ê³„ì-ì´ì •ë¦¬" iconsizing="both"><!--[--><i class="vp-icon fas fa-book fa-fw" sizing="both"></i><!--]-->ë§ˆì¼€íŒ… ì„¤ê³„ì-ì´ì •ë¦¬<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fas fa-pen-to-square" sizing="height"></i>WEEK08-PintOS_Project1_Threads</h1><div class="page-info"><span class="page-author-info" aria-label="ì‘ì„±ìğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://www.h-levi.me" target="_blank" rel="noopener noreferrer">Levi</a></span><span property="author" content="Levi"></span></span><!----><span class="page-date-info" aria-label="ì‘ì„±ì¼ğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2022ë…„ 11ì›” 17ì¼</span><meta property="datePublished" content="2022-11-17T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="ì½ëŠ” ì‹œê°„âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>ì•½ 4 ë¶„</span><meta property="timeRequired" content="PT4M"></span><span class="page-category-info" aria-label="ì¹´í…Œê³ ë¦¬ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color4 clickable" role="navigation">Dev</span><!--]--><meta property="articleSection" content="Dev"></span><span class="page-tag-info" aria-label="íƒœê·¸ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color6 clickable" role="navigation">SWì‚¬ê´€í•™êµì •ê¸€</span><span class="page-tag-item color8 clickable" role="navigation">Develop</span><!--]--><meta property="keywords" content="SWì‚¬ê´€í•™êµì •ê¸€,Develop"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><!--[--><div class="vp-toc-header">ì´ í˜ì´ì§€ì—ì„œ<button type="button" class="print-button" title="ì¸ì‡„"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-pintos-á„ƒá…©á†¼á„€á…µá„’á…ªá„‹á…¦-á„€á…ªá†«á„’á…¡á†«-á„Œá…®á„‹á…­-á„‹á…­á†¼á„‹á…¥-á„Œá…¥á†¼á„…á…µ">1. PintOS ë™ê¸°í™”ì— ê´€í•œ ì£¼ìš” ìš©ì–´ ì •ë¦¬</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-á„‰á…³á„…á…¦á„ƒá…³-thread">1) ìŠ¤ë ˆë“œ(Thread)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-á„‹á…µá†«á„á…¥á„…á…¥á†¸á„á…³á„‹á…´-á„‡á…µá„’á…ªá†¯á„‰á…¥á†¼á„’á…ª-disabling-interrupts">2) ì¸í„°ëŸ½íŠ¸ì˜ ë¹„í™œì„±í™”(Disabling Interrupts)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-á„‰á…¦á„†á…¡á„‘á…©á„‹á…¥-semaphores">3) ì„¸ë§ˆí¬ì–´(Semaphores)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-locks">4) Locks</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-monitors">5) Monitors</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-á„‹á…¡á†¯á„…á…¡á†·á„‰á…µá„€á…¨-á„€á…®á„’á…§á†«">2. ì•ŒëŒì‹œê³„ êµ¬í˜„</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-á„†á…©á†¨á„‘á…­">1) ëª©í‘œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-á„‡á…¡á†¼á„‡á…¥á†¸">2) ë°©ë²•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-sleep-listá„…á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥-á„Œá…¡á†·á„Œá…¡á„‚á…³á†«-threadá„…á…³á†¯-á„Œá…¥á„Œá…¡á†¼á„’á…¡á„Œá…¡">3) sleep_listë¥¼ ë§Œë“¤ì–´ ì ìëŠ” threadë¥¼ ì €ì¥í•˜ì</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-sleep-listá„‹á…¦-á„‚á…¥á‡‚á„€á…µ-á„Œá…¥á†«-thread-á„€á…®á„Œá…©á„á…¦á„‹á…¦-á„‹á…µá†¯á„‹á…¥á„‚á…¡á†¯-á„‰á…µá„€á…¡á†«á„‹á…³á†¯-á„€á…µá„…á…©á†¨">4) sleep_listì— ë„£ê¸° ì „ thread êµ¬ì¡°ì²´ì— ì¼ì–´ë‚  ì‹œê°„ì„ ê¸°ë¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-á„‹á…µá†¯á„‹á…¥á„‚á…¡á†¯-á„‰á…µá„€á…¡á†«á„‹á…³á†«-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„‹á…¥á„ƒá…µá„‰á…¥-á„‚á…¥á‡‚á„‹á…¥á„Œá…®á†¯á„á…¡">5) ì¼ì–´ë‚  ì‹œê°„ì€ ì–´ë–»ê²Œ, ì–´ë””ì„œ ë„£ì–´ì¤„ê¹Œ?</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-á„á…¢á„‹á…®á†¯á„„á…¢á„‚á…³á†«-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„á…¢á„‹á…®á†¯á„á…¡">6) ê¹¨ìš¸ë•ŒëŠ” ì–´ë–»ê²Œ ê¹¨ìš¸ê¹Œ?</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-scheduling-1">3. ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¥´ë§(Priority Scheduling)_1</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-á„†á…®á†«á„Œá…¦á„Œá…¥á†·">1) ë¬¸ì œì </a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-á„†á…©á†¨á„‘á…­">2) ëª©í‘œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-á„‡á…¡á†¼á„‡á…¥á†¸">3) ë°©ë²•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-list-insert-ordered-á„’á…¡á†·á„‰á…®-á„ˆá…©á„€á…¢á„€á…µ">4) list_insert_ordered() í•¨ìˆ˜ ë½€ê°œê¸°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-less-á„ƒá…¢á„‰á…µá†«-á„‰á…¡á„‹á…­á†¼á„’á…¡á„‚á…³á†«-moreá„’á…¡á†·á„‰á…®-á„€á…®á„’á…§á†«">5) less ëŒ€ì‹  ì‚¬ìš©í•˜ëŠ” moreí•¨ìˆ˜ êµ¬í˜„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-list-push-back-á„…á…³á†¯-list-insert-ordered-á„…á…©-á„‰á…®á„Œá…¥á†¼-á„’á…¡á„€á…µ">6) list_push_back()ë¥¼ list_insert_ordered() ë¡œ ìˆ˜ì • í•˜ê¸°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-á„‰á…µá†¯á„’á…¢á†¼-á„Œá…®á†¼á„‹á…µá†«-threadá„‹á…´-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±á„€á…¡-á„‡á…¡á„á…±á„‚á…³á†«-á„á…¦á„‹á…µá„‰á…³">7) ì‹¤í–‰ ì¤‘ì¸ threadì˜ ìš°ì„ ìˆœìœ„ê°€ ë°”ë€ŒëŠ” ì¼€ì´ìŠ¤</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-scheduling-2">4. ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¥´ë§(Priority Scheduling)_2</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-á„†á…©á†¨á„‘á…­-1">1) ëª©í‘œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-á„ƒá…©á„€á…®">2) ë„êµ¬</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-01-semaphore">3) ë¬¸ì œ í•´ê²° ë°©ë²•_01_Semaphore</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-02-lock">4) ë¬¸ì œ í•´ê²° ë°©ë²•_02_Lock</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-03-condition-variables">5) ë¬¸ì œ í•´ê²° ë°©ë²•_03_Condition variables</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-inversion-donation">5. ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¥´ë§(Priority Inversion)_donation</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-á„†á…®á†«á„Œá…¦-á„†á…µá†¾-á„†á…©á†¨á„‘á…­">1) ë¬¸ì œ ë° ëª©í‘œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-poriority-inversion-á„ƒá…¢á„‹á…³á†¼á„‹á…³á†¯-á„‹á…±á„’á…¡á†«-á„ƒá…®á„€á…¡á„Œá…µ-á„á…¦á„‹á…µá„‰á…³">2) Poriority inversion ëŒ€ì‘ì„ ìœ„í•œ ë‘ê°€ì§€ ì¼€ì´ìŠ¤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-multiple-donation">3) Multiple donation</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-nested-donation">4) Nested donation</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-thread-á„€á…®á„Œá…©á„á…¦-á„‰á…®á„Œá…¥á†¼">5) Thread êµ¬ì¡°ì²´ ìˆ˜ì •</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-init-thread-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼">6) init_thread í•¨ìˆ˜ ìˆ˜ì •</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-lock-acquire-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼">7) lock_acquire í•¨ìˆ˜ ìˆ˜ì •</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-dona-priority-á„’á…¡á†·á„‰á…®-á„€á…®á„’á…§á†«">8) dona_priority í•¨ìˆ˜ êµ¬í˜„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-lock-release-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼">9) lock_release í•¨ìˆ˜ ìˆ˜ì •</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-refresh-priority-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼">10) Refresh_priority í•¨ìˆ˜ ìˆ˜ì •</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-thread-set-priority-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼">11) thread_set_priority í•¨ìˆ˜ ìˆ˜ì •</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#á„‡á…¢á„‹á…®á†«á„Œá…¥á†·-á„’á…¬á„€á…©">ë°°ìš´ì , íšŒê³ </a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--]--><!----></aside></div><!----><div class="theme-hope-content" vp-content><ul><li>SWì‚¬ê´€í•™êµ ì •ê¸€ 5ê¸° 8ì£¼ì°¨ íšŒê³ </li></ul><!-- more --><h2 id="_1-pintos-á„ƒá…©á†¼á„€á…µá„’á…ªá„‹á…¦-á„€á…ªá†«á„’á…¡á†«-á„Œá…®á„‹á…­-á„‹á…­á†¼á„‹á…¥-á„Œá…¥á†¼á„…á…µ" tabindex="-1"><a class="header-anchor" href="#_1-pintos-á„ƒá…©á†¼á„€á…µá„’á…ªá„‹á…¦-á„€á…ªá†«á„’á…¡á†«-á„Œá…®á„‹á…­-á„‹á…­á†¼á„‹á…¥-á„Œá…¥á†¼á„…á…µ"><span>1. PintOS ë™ê¸°í™”ì— ê´€í•œ ì£¼ìš” ìš©ì–´ ì •ë¦¬</span></a></h2><h3 id="_1-á„‰á…³á„…á…¦á„ƒá…³-thread" tabindex="-1"><a class="header-anchor" href="#_1-á„‰á…³á„…á…¦á„ƒá…³-thread"><span>1) ìŠ¤ë ˆë“œ(Thread)</span></a></h3><ul><li>í”„ë¡œì„¸ìŠ¤ â€˜ë‚´â€™ì—ì„œ ì‹¤í–‰ë˜ëŠ” íë¦„ì˜ â€˜ë‹¨ìœ„â€™ë¥¼ ë§í•œë‹¤.</li><li>ë©€í‹° ìŠ¤ë ˆë“œ(multi_thread) : í”„ë¡œì„¸ìŠ¤ ë‚´ì—ëŠ” ìµœì†Œ í•œê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ ë  ìˆ˜ ìˆë‹¤.</li><li>ì•„ì£¼ í° ì¥ì ìœ¼ë¡œëŠ” í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ì—ì„œëŠ” ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ìì›(ë©”ëª¨ë¦¬)ë¥¼ ê³µìœ í•˜ê²Œ ëœë‹¤.</li></ul><div class="hint-container info"><p class="hint-container-title">ì •ë³´</p><p>ë©€í‹° í”„ë¡œì„¸ìŠ¤ì™€ì˜ ì°¨ì´ì ìœ¼ë¡œëŠ” ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ëŠ” ìì›ì„ ê³µìœ í•  ìˆ˜ ì—†ë‹¤.</p></div><h3 id="_2-á„‹á…µá†«á„á…¥á„…á…¥á†¸á„á…³á„‹á…´-á„‡á…µá„’á…ªá†¯á„‰á…¥á†¼á„’á…ª-disabling-interrupts" tabindex="-1"><a class="header-anchor" href="#_2-á„‹á…µá†«á„á…¥á„…á…¥á†¸á„á…³á„‹á…´-á„‡á…µá„’á…ªá†¯á„‰á…¥á†¼á„’á…ª-disabling-interrupts"><span>2) ì¸í„°ëŸ½íŠ¸ì˜ ë¹„í™œì„±í™”(Disabling Interrupts)</span></a></h3><ul><li>ì»¤ë„ì˜ ìŠ¤ì¼€ì¥´ë§ ë°©ì‹ì— ë”°ë¼ CPU ì‚¬ìš©ì„ ì„ ì  ë‹¹í•  ìˆ˜ ìˆëŠ”ì§€ì˜ ì—¬ë¶€ê°€ ë‹¬ë¼ì§„ë‹¤.</li><li>PintOSëŠ” ì»¤ë„ ìŠ¤ë ˆë“œê°€ ì–¸ì œë“ ì§€ ì„ ì  ë‹¹í•  ìˆ˜ ìˆëŠ” Preempible kernel(ì„ ì í˜• ì»¤ë„)ì´ë‹¤.</li><li>interruptë¥¼ ë¹„í™œì„±í™” í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ Synchronization(ë™ê¸°í™”)ê°€ ê°€ëŠ¥ <ul><li>ìŠ¤ë ˆë“œ ì„ ì ì€ timer interruptì— ì˜í•´ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— interrupt ìì²´ë¥¼ ë§‰ëŠ”ë‹¤.</li></ul></li><li>ì´ ë°©ë²•ì€ ì™¸ë¶€ ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë™ê¸°í™” ì‹œí‚¤ê¸° ìœ„í•´ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤. <ul><li>ì™¸ë¶€ ì¸í„°ëŸ½íŠ¸ëŠ” í”„ë¡œê·¸ë¨ ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì¸í„°ëŸ½íŠ¸ì™€ ë‹¤ë¥´ê²Œ ì™¸ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì¸í„°ëŸ½íŠ¸ë¡œ sleepì´ ë¶ˆê°€ í•˜ë‹¤.</li><li>ë”°ë¼ì„œ ë‹¤ë¥¸ ë™ê¸°í™” ë„êµ¬ê°€ ì‚¬ìš©ë  ìˆ˜ ì—†ê³ , ê°€ì¥ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ì™¸ë¶€ ì¸í„°ëŸ½íŠ¸ê°€ ì‹¤í–‰ ë˜ëŠ” ë™ì•ˆì€ ë‹¤ë¥¸ ëª¨ë“  ì¸í„°ëŸ½íŠ¸ë¥¼ ë¹„í™œì„±í™” í•œë‹¤.</li></ul></li><li>&lt;thread/interrupt.h&gt;ì— interrupt ë“¤ì€ í™œì„±/ë¹„í™œì„± í•  ìˆ˜ ìˆëŠ” Type, functionë“¤ì´ ìˆë‹¤.</li></ul><h3 id="_3-á„‰á…¦á„†á…¡á„‘á…©á„‹á…¥-semaphores" tabindex="-1"><a class="header-anchor" href="#_3-á„‰á…¦á„†á…¡á„‘á…©á„‹á…¥-semaphores"><span>3) ì„¸ë§ˆí¬ì–´(Semaphores)</span></a></h3><ul><li>ë©€í‹° ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ì˜ â€˜ê³µìœ ìì›â€™ì„ ì„œë¡œ ê³µìœ í•˜ê²Œ ëœë‹¤.</li><li>ì„ê³„êµ¬ì—­(Critical Section) : ê° ìŠ¤ë ˆë“œì—ì„œ ì´ ê³µìœ ìì›ì„ ì–µì„¸ìŠ¤ í•˜ëŠ” ì½”ë“œ êµ¬ì—­</li></ul><div class="hint-container info"><p class="hint-container-title">ì •ë³´</p><p>ì´ë•Œ ê°™ì€ ê³µìœ ë°ì´í„°ì— ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼í•˜ë©´ ì‹œê°„ì°¨ì´ë¡œ ì¸í•œ ì˜ëª»ëœ ê²°ê³¼ë¡œ ì´ì–´ì§€ê¸° ë•Œë¬¸ì—, í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ì„ê³„êµ¬ì—­ì— ë“¤ì–´ê°€ ìˆë‹¤ë©´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë“¤ì€ ì¸ê³„êµ¬ì—­ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ â€˜ì œí•œâ€™ í•´ì•¼ í•œë‹¤.</p></div><ul><li>ì„¸ë§ˆí¬(Semaphores) : ê³µìœ ìì›ì„ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼ í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ” ë„êµ¬ <ul><li>Nonnegative integerì™€ ë‘ê°œì˜ Operatorsë¡œ ì´ë£¨ì–´ì§</li><li>Nonnegative integer : ì‚¬ìš© ê°€ëŠ¥í•œ ê³µìœ ìì›ì˜ ê°œìˆ˜ <ul><li>ë§Œì¼ ê°’ì´ 2ë¼ë©´ 2ê°œì˜ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê³ , ê°’ì´ 0ì´ë©´ ì‚¬ìš©ê°€ëŠ¥í•œ ê³µìœ ìì›ì´ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸</li></ul></li><li>Nonnegative integer ì¡°ì‘ ë°©ë²• <ul><li>â€œDownâ€(or â€œPâ€) <ul><li>ìŠ¤ë ˆë“œ ì„ê³„êµ¬ì—­ ì…ì¥ â†’ ê³µìœ ìì› ì‚¬ìš© ìš”ì²­ â†’ ì‚¬ìš©ê°€ëŠ¥í•œ ê³µìœ ìì› ê°œìˆ˜ 1ê°œ ì´ìƒ(ì–‘ìˆ˜) â†’ ìˆ˜ë¥¼ 1 ê°ì†Œ ì‹œí‚´ â†’ ì„ê³„êµ¬ì—­ ì‹¤í–‰(ê³µìœ ìì› ì‚¬ìš©)</li><li>ê³µìœ ìì› ê°œìˆ˜ 0 ì´í•˜ â†’ ì–‘ìˆ˜ê°€ ë ë•Œ ê¹Œì§€ ì„ê³„êµ¬ì—­ì„ ì‹¤í–‰í•˜ì§€ ì•Šê³  ê¸°ë‹¤ë¦¼</li></ul></li><li>â€œUpâ€(or â€œVâ€) <ul><li>ìŠ¤ë ˆë“œê°€ ì„ê³„êµ¬ì—­ì˜ ì‹¤í–‰ì„ ëª¨ë‘ ë§ˆì¹¨ â†’ ê³µìœ ìì› ë°˜ë‚© â†’ ì‚¬ìš© ê°€ëŠ¥í•œ ê³µìœ ìì›ì˜ ê°œìˆ˜ë¥¼ 1 ëŠ˜ë¦¼</li></ul></li></ul></li></ul></li><li>0ìœ¼ë¡œ ì´ˆê¸°í™” ë˜ëŠ” ê²½ìš° : ìŠ¤ë ˆë“œ A ê°€ ìš°ì„  ê¸°ë‹¤ë¦¼ â†’ ìŠ¤ë ˆë“œ Bì˜ ì‘ì—…ì´ ëë‚˜ë©´ Aê°€ ì‹¤í–‰</li><li>1ë¡œ ì´ˆê¸°í™” ë˜ëŠ” ê²½ìš° : ìŠ¤ë ˆë“œ A ê°€ ìš°ì„  ì‹¤í–‰ë¨ â†’ Aì˜ ì‘ì—…ì´ ëë‚˜ë©´ ê¸°ë‹¤ë¦¬ë˜ Bê°€ ì‹¤í–‰</li></ul><h3 id="_4-locks" tabindex="-1"><a class="header-anchor" href="#_4-locks"><span>4) Locks</span></a></h3><ul><li>ì„¸ë§ˆí¬ë‘ ë§ˆì°¬ê°€ì§€ë¡œ ê³µìœ ìì›ì„ ê´€ë¦¬í•˜ëŠ” ë™ê¸°í™”ë„êµ¬ ì¤‘ í•˜ë‚˜ë‹¤.</li><li>â€œUpâ€ëŒ€ì‹  â€œreleaseâ€, â€œDownâ€ ëŒ€ì‹  â€œacquireâ€ë¼ëŠ” ì´ë¦„ì˜ Operatorë¡œ ë™ì‘</li></ul><div class="hint-container info"><p class="hint-container-title">ì •ë³´</p><p>Lockì—ëŠ” ì„¸ë§ˆí¬ì—ëŠ” ì—†ëŠ” í•˜ë‚˜ì˜ ì œì•½ì´ ìˆë‹¤! ë°‘ì— ì„¤ëª…</p></div><ul><li>Acquireë¥¼ í˜¸ì¶œí•œ ìŠ¤ë ˆë“œë§Œì´ í•´ë‹¹ Lockì„ release í•  ìˆ˜ ìˆë‹¤.</li></ul><h3 id="_5-monitors" tabindex="-1"><a class="header-anchor" href="#_5-monitors"><span>5) Monitors</span></a></h3><ul><li>ê³µìœ ìì›, ëª¨ë‹ˆí„° ë½, ì¡°ê±´ë³€ìˆ˜ë¡œ ì´ë£¨ì–´ ì§„ë‹¤.</li><li>ê°ê°ì˜ ìŠ¤ë ˆë“œë“¤ì€ ì„œë¡œ Mutual Exclustion(ìƒí˜¸ë°°íƒ€)ê°€ ëœë‹¤. <ul><li>ì¦‰, ê³µìœ ìì›ì„ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ìƒíƒœê°€ ëœë‹¤.</li></ul></li><li>ì¢€ë” ê³µë¶€ê°€ í•„ìš”!</li></ul><hr><h2 id="_2-á„‹á…¡á†¯á„…á…¡á†·á„‰á…µá„€á…¨-á„€á…®á„’á…§á†«" tabindex="-1"><a class="header-anchor" href="#_2-á„‹á…¡á†¯á„…á…¡á†·á„‰á…µá„€á…¨-á„€á…®á„’á…§á†«"><span>2. ì•ŒëŒì‹œê³„ êµ¬í˜„</span></a></h2><h3 id="_1-á„†á…©á†¨á„‘á…­" tabindex="-1"><a class="header-anchor" href="#_1-á„†á…©á†¨á„‘á…­"><span>1) ëª©í‘œ</span></a></h3><ul><li>í˜„ì¬ëŠ” timer_sleep()ì—ì„œ ë§¤ í‹±ë§ˆë‹¤ thread_yield ()ë¡œ ê¹¨ì›Œì„œ í™•ì¸ í•˜ê³  ìˆë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">timer_sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64_t</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> ticks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int64_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> start </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> timer_ticks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //ticksê°’ì„ ë°˜í™˜ í•¨</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intr_get_level</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> INTR_ON);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">timer_elapsed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (start) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ticks)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">         thread_yield</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ();</span></span></code></pre></div><ul><li>CPUê°€ ë§¤ìš° ë¹„íš¨ìœ¨ ì ìœ¼ë¡œ ì¼ì–´ë‚  ì‹œê°„ì„ í™•ì¸ í•˜ê³  ìˆë‹¤.</li><li>ì´ ë°©ì‹ì„ busy waits ë°©ì‹ì´ë¼ê³  í•œë‹¤.</li></ul><figure><img src="/vue-press/assets/Untitled3-UvpMxcGS.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><p>ğŸ’¡ ë”°ë¼ì„œ ìš°ë¦° ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ í™•ì¸ ë¹„ìš©ì„ ì¤„ì—¬ ì¼ì–´ë‚˜ì•¼ í•  ì‹œê°„ì— ìŠ¤ë ˆë“œë¥¼ ê¹¨ìš°ëŠ” ì•ŒëŒì‹œê³„ë¥¼ ë§Œë“¤ë©´ ëœë‹¤.</p><h3 id="_2-á„‡á…¡á†¼á„‡á…¥á†¸" tabindex="-1"><a class="header-anchor" href="#_2-á„‡á…¡á†¼á„‡á…¥á†¸"><span>2) ë°©ë²•</span></a></h3><ul><li>block_listë¥¼ ë§Œë“¤ì–´ ë¸”ë¡ ìƒíƒœì¸ ìŠ¤ë ˆë“œë¥¼ ë„£ì–´ ê´€ë¦¬í•œë‹¤. <ul><li>í˜„ì¬ëŠ” ëª¨ë‘ ready_listì— ìˆë‹¤.</li><li>ì–´ë–»ê²Œ block_listì— ë„£ëŠ”ê°€?</li></ul></li><li>ë¸”ë¡í•˜ë©´ì„œ ì–´ë”˜ê°€ì— ë„£ì„ë•Œ ê¹¨ìš¸ ì‹œê°„ì„ ë„£ì–´ì„œ ì €ì¥í•´ì•¼ í•œë‹¤. <ul><li>ê¹¨ìš¸ ì‹œê°„ì€ ì–´ë–»ê²Œ ì €ì¥ í•˜ëŠ”ê°€?</li><li>ê¹¨ìš¸ ì‹œê°„ì€ ì–´ë””ì„œ ì²´í¬í•˜ëŠ”ê°€?</li><li>ì ë“  ìŠ¤ë ˆë“œëŠ” ì–´ë””ì— ì €ì¥ í•˜ëŠ”ê°€?</li></ul></li><li>ìœ„ì™€ ê°™ì€ ë¬¼ìŒë“¤ì„ í•˜ë‚˜ì”© í•´ê²° í•´ì•¼ í•œë‹¤.</li></ul><figure><img src="/vue-press/assets/Untitled4-BOq9PNyw.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><h3 id="_3-sleep-listá„…á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥-á„Œá…¡á†·á„Œá…¡á„‚á…³á†«-threadá„…á…³á†¯-á„Œá…¥á„Œá…¡á†¼á„’á…¡á„Œá…¡" tabindex="-1"><a class="header-anchor" href="#_3-sleep-listá„…á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥-á„Œá…¡á†·á„Œá…¡á„‚á…³á†«-threadá„…á…³á†¯-á„Œá…¥á„Œá…¡á†¼á„’á…¡á„Œá…¡"><span>3) sleep_listë¥¼ ë§Œë“¤ì–´ ì ìëŠ” threadë¥¼ ì €ì¥í•˜ì</span></a></h3><ul><li>PintSO ìë£ŒëŠ” listë¥¼ ì‰½ê²Œ ë§Œë“¤ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œê°€ ì œê³µëœë‹¤.</li><li>ìš°ë¦¬ëŠ” sleep_listë¥¼ ìƒì„±í•˜ì—¬ ì ë“¤ì€ threadë¥¼ ê´€ë¦¬í•˜ê² ë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sleep_list);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  //sleep_list ìƒì„±</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="_4-sleep-listá„‹á…¦-á„‚á…¥á‡‚á„€á…µ-á„Œá…¥á†«-thread-á„€á…®á„Œá…©á„á…¦á„‹á…¦-á„‹á…µá†¯á„‹á…¥á„‚á…¡á†¯-á„‰á…µá„€á…¡á†«á„‹á…³á†¯-á„€á…µá„…á…©á†¨" tabindex="-1"><a class="header-anchor" href="#_4-sleep-listá„‹á…¦-á„‚á…¥á‡‚á„€á…µ-á„Œá…¥á†«-thread-á„€á…®á„Œá…©á„á…¦á„‹á…¦-á„‹á…µá†¯á„‹á…¥á„‚á…¡á†¯-á„‰á…µá„€á…¡á†«á„‹á…³á†¯-á„€á…µá„…á…©á†¨"><span>4) sleep_listì— ë„£ê¸° ì „ thread êµ¬ì¡°ì²´ì— ì¼ì–´ë‚  ì‹œê°„ì„ ê¸°ë¡</span></a></h3><ul><li>threadêµ¬ì¡°ì²´ì— wakeup_timeì´ë¼ëŠ” ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ ì¤€ë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.h</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> wakeup_time;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                /*ì ì” ë…¸ë“œê°€ ì¼ì–´ë‚  ì‹œê°„*/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="_5-á„‹á…µá†¯á„‹á…¥á„‚á…¡á†¯-á„‰á…µá„€á…¡á†«á„‹á…³á†«-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„‹á…¥á„ƒá…µá„‰á…¥-á„‚á…¥á‡‚á„‹á…¥á„Œá…®á†¯á„á…¡" tabindex="-1"><a class="header-anchor" href="#_5-á„‹á…µá†¯á„‹á…¥á„‚á…¡á†¯-á„‰á…µá„€á…¡á†«á„‹á…³á†«-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„‹á…¥á„ƒá…µá„‰á…¥-á„‚á…¥á‡‚á„‹á…¥á„Œá…®á†¯á„á…¡"><span>5) ì¼ì–´ë‚  ì‹œê°„ì€ ì–´ë–»ê²Œ, ì–´ë””ì„œ ë„£ì–´ì¤„ê¹Œ?</span></a></h3><ul><li>ì¼ì–´ë‚  ì‹œê°„ì€ â€˜OSê°€ ì‹œì‘ëœ ì‹œê°„ + ì˜ì‹œê°„â€™ìœ¼ë¡œ ì €ì¥ í•œë‹¤.</li><li>timer_sleepí•¨ìˆ˜ì—ì„œ thread_sleepí•¨ìˆ˜ë¥¼ í˜¸ì¶œí• ë•Œ ì¼ì–´ë‚  ì‹œê°„ì„ ê³„ì‚°í•˜ì—¬ ë„˜ê¸´ë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//timer.c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">timer_sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64_t</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> ticks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int64_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> start </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> timer_ticks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //OSê°€ ì‹œì‘ëœ ì‹œê°„ìœ¼ë¡œë¶€í„°ì˜ ticksê°’ì„ ë°˜í™˜ í•¨</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intr_get_level</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> INTR_ON);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    thread_sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(start </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ticks);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>ê·¸ë¦¬ê³  thread_sleep í•¨ìˆ˜ì—ì„œ ì¼ì–´ë‚  ì‹œê°„ì„ ë„£ì–´ ì¤€ë‹¤.</li><li>interruptë¡œ ì›ìì„±ì„ ë³´ì¥í•œë‹¤.</li><li>ì„ ì–¸í•œ thread êµ¬ì¡°ì²´ì˜ wakeup_time ê°’ì„ ticks ë°”ê¿”ì¤€ë‹¤.</li><li>list_push_back ë¥¼ ì‚¬ìš©í•˜ì—¬ sleep_listì— ì‚½ì…í•œë‹¤.</li><li>ë§ˆì§€ë§‰ìœ¼ë¡œ threadë¥¼ blockí•˜ê³  ìŠ¤ì¼€ì¥´ë§í•œë‹¤.</li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64_t</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> ticks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cur </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     //í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    enum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> intr_level old_level;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                //ì§€ê¸ˆ ì¸íŠ¸ëŸ¬ë¥íŠ¸</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    old_level </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> intr_disable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">         //interrupt off</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    cur </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ì„ ì–¸í•œ thread êµ¬ì¡°ì²´ì˜ wa;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //ê¹¨ì–´ë‚˜ì•¼ í•  ticks ì €ì¥</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    list_push_back</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sleep_list, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cur</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //ìŠ¬ë¦½ í ì‚½ì…</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    thread_block</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                    //blockí•˜ê³ </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    intr_set_level</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (old_level);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            //interrupt on</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-á„á…¢á„‹á…®á†¯á„„á…¢á„‚á…³á†«-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„á…¢á„‹á…®á†¯á„á…¡" tabindex="-1"><a class="header-anchor" href="#_6-á„á…¢á„‹á…®á†¯á„„á…¢á„‚á…³á†«-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„á…¢á„‹á…®á†¯á„á…¡"><span>6) ê¹¨ìš¸ë•ŒëŠ” ì–´ë–»ê²Œ ê¹¨ìš¸ê¹Œ?</span></a></h3><ul><li>ê°„ë‹¨íˆëŠ” sleep_listë¥¼ í™•ì¸í•˜ì—¬ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ wakeup_timeì¸ threadë¥¼ ê¹¨ìš´ë‹¤.</li><li>list_begin í•¨ìˆ˜ë¡œ sleep_listì˜ ì‹œì‘ elemë¥¼ ê°€ì ¸ì˜¨ë‹¤.</li><li>ê°€ì ¸ì˜¨ threadì˜ wakeup_timeì„ ë¹„êµí•˜ì—¬ ê¹¨ì›Œì•¼í•˜ë©´ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œ í›„ unblock í•œë‹¤.</li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_awake</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64_t</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> ticks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // í˜„ì¬ ì‹œê°„</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    /*sleep_listì˜ ëª¨ë“  entryìˆœíšŒ*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sleep_list);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     //sleep_listì˜ ì‹œì‘ ìŠ¤ë ˆë“œ í¬ì¸í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ìš”ì†Œë¡œ í• ë‹¹</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sleep_list)){</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                //sleep_listì˜ ì‹œì‘ê³¼ ëì´ ê°™ì§€ ì•Šë‹¤ë©´ ë°˜ë³µë¬¸ ì‹œì‘(ê°™ì„ë•Œê¹Œì§€)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (e, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread, elem);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     //e(sleep_list ì‹œì‘)ì˜ í¬ì¸í„°ë¥¼ thread t êµ¬ì¡°ì²´ í¬ì¸í„°ë¡œ í• ë‹¹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">wakeup_time</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ticks){</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // ìŠ¤ë ˆë“œì˜ ì¼ì–´ë‚œ ì‹œê°„ì´ ì§€ê¸ˆ ì‹œê°„ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ìœ¼ë©´</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (e);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // sleep list ì—ì„œ ì œê±°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      thread_unblock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (t);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // ìŠ¤ë ˆë“œ unblock</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (e);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ì§€ê¸ˆê¹Œì§€ êµ¬í˜„ì„ í•˜ë©´ ì¢€ë” íš¨ìœ¨ì ì¸ thread ê¹¨ìš°ê¸° ë°©ë²•ì´ ëœë‹¤.</li><li>í•˜ì§€ë§Œ ìœ„ ê³¼ì •ì„ ë³´ë©´ í•œê°€ì§€ ê±¸ë¦¬ëŠ” ë¶€ë¶„ì´ ìƒê¸¸ ê²ƒì´ë‹¤.</li><li>ë°”ë¡œ â€˜Runningì„ ì‹œí‚¤ëŠ” ê¸°ì¤€ì— ëŒ€í•´ì„œâ€™ ì´ë‹¤.</li><li>ë‹¤ìŒê³¼ì •ì€ ìš°ì„ ìˆœìœ„ë¥¼ ê³ ë ¤í•˜ì—¬ Threadë¥¼ Running ë°©ë²•ì— ëŒ€í•´ êµ¬í˜„ì„ í•˜ê² ë‹¤.</li></ul><h2 id="_3-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-scheduling-1" tabindex="-1"><a class="header-anchor" href="#_3-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-scheduling-1"><span>3. ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¥´ë§(Priority Scheduling)_1</span></a></h2><h3 id="_1-á„†á…®á†«á„Œá…¦á„Œá…¥á†·" tabindex="-1"><a class="header-anchor" href="#_1-á„†á…®á†«á„Œá…¦á„Œá…¥á†·"><span>1) ë¬¸ì œì </span></a></h3><ul><li>í˜„ì¬ ë¬¸ì œì ì€ ready_listì— ìŠ¤ë ˆë“œë¥¼ ë„£ëŠ” ê³¼ì •ì—ì„œ ë¬´ì¡°ê±´ ì¡°ê±´ ì—†ì´ ë’¤ì— ë„£ê³  ìˆë‹¤.</li><li>threadì˜ priorityê°€ ê°€ì¥ ë¹ ë¥¸ ê²ƒì´ ë¨¼ì € ì‹¤í–‰ì´ ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ìš°ë¦° ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ì—¬ í•œë‹¤.</li></ul><h3 id="_2-á„†á…©á†¨á„‘á…­" tabindex="-1"><a class="header-anchor" href="#_2-á„†á…©á†¨á„‘á…­"><span>2) ëª©í‘œ</span></a></h3><ul><li>ready_list ì˜ threadë¥¼ ìš°ì„  ìˆœìœ„(priority)ë¥¼ ê³ ë ¤í•˜ì—¬ running í•˜ê¸°</li></ul><h3 id="_3-á„‡á…¡á†¼á„‡á…¥á†¸" tabindex="-1"><a class="header-anchor" href="#_3-á„‡á…¡á†¼á„‡á…¥á†¸"><span>3) ë°©ë²•</span></a></h3><ul><li>ë°©ë²• 1 : ready_listì—ì„œ popì„ í• ë•Œ ìš°ì„ ìˆœìœ„ë¥¼ ê³ ë ¤</li><li>ë°©ë²• 2: ready_listì— pushë¥¼ í• ë•Œ ìš°ì„ ìˆœìœ„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬</li></ul><p>ğŸ’¡ list.cì— list_insert_ordered() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë°©ë²• 2ë²ˆìœ¼ë¡œ êµ¬í˜„ì„ í•˜ë ¤ í•œë‹¤.</p><h3 id="_4-list-insert-ordered-á„’á…¡á†·á„‰á…®-á„ˆá…©á„€á…¢á„€á…µ" tabindex="-1"><a class="header-anchor" href="#_4-list-insert-ordered-á„’á…¡á†·á„‰á…®-á„ˆá…©á„€á…¢á„€á…µ"><span>4) list_insert_ordered() í•¨ìˆ˜ ë½€ê°œê¸°</span></a></h3><ul><li>ë°›ëŠ” ì¸ì(ì´ 4ê°œì˜ ì¸ìë¥¼ ë°›ìŒ) <ul><li>list : ì‚½ì… í•  ë¦¬ìŠ¤íŠ¸ êµ¬ì¡°ì²´</li><li>list_elem : ì‚½ì… í•  ë¦¬ìŠ¤íŠ¸ ìš”ì†Œì˜ êµ¬ì¡°ì²´</li><li>list_less_func <ul><li>less í•¨ìˆ˜ êµ¬ì¡°ì²´ë¥¼ ë°›ì•„ì˜¨ë‹¤.</li><li>ì´ í•¨ìˆ˜ëŠ” ë‹¤ì‹œ 3ê°œì˜ ì¸ìë¥¼ ë°›ëŠ”ë‹¤. <ul><li>ì²«ë²ˆì§¸ list_elem(a)ì™€ ë‘ë²ˆì§¸ list_elem(b)ë¥¼ ë¹„êµí•˜ì—¬ aê°€ ì‘ìœ¼ë©´ true, bê°€ ì‘ìœ¼ë©´ falseë¥¼ ë°˜í™˜í•œë‹¤.</li><li>ë§ˆì§€ë§‰ ì¸ìëŠ” ë³´ì¡°ì¸ì(aux) ì´ë‹¤.</li></ul></li></ul></li><li>aux : ë³´ì¡° ì¸ì</li></ul></li><li>forë¬¸ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒ í•˜ë©° less í•¨ìˆ˜ë¥¼ ì‹¤í–‰ í•œë‹¤. <ul><li>ì´ë•Œ lessí•¨ìˆ˜ëŠ” ì‚½ì…í•  elemê°€ ë’¤(e)ë³´ë‹¤ ì‘ìœ¼ë©´ true(elem &lt; e)ë¥¼ ë¦¬í„´ í•œë‹¤.</li><li><code>for (e = list_begin (list); e != list_end (list); e = list_next (e)) if (less (elem, e, aux))//less í•¨ìˆ˜ : eë¥¼ í•˜ë‚˜ì”© ì˜®ê²¨ ê°€ë©´ì„œ elemê³¼ ê³„ì† ë¹„êµí•˜ë©° ë°˜ë³µ, break; //ì‚½ì…í•  elemê°€ ë’¤(e)ë³´ë‹¤ ì‘ìœ¼ë©´ true(elem &lt; e)</code></li></ul></li><li>ê·¸ë¦¬ê³  ë¦¬í„´ìœ¼ë¡œ list_insert()ë¥¼ ì‹¤í–‰ í•˜ì—¬ ë¦¬í„´ í•˜ëŠ”ë°, list_insert í•¨ìˆ˜ëŠ” ì²«ë²ˆì§¸ ì¸ì ìš”ì†Œ ì•ì— ë‘ë²ˆì§¸ ì¸ìë¥¼ ë„£ëŠ”ë‹¤.</li></ul><p>ğŸ’¡ ë”°ë¼ì„œ list_insert_orderedí•¨ìˆ˜ë¥¼ pushëŒ€ì‹  ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ ì˜¤ë¦„ì°¨ìˆœì´ ë˜ê¸° ë•Œë¬¸ì— ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ë©´ì„œ listì— ë„£ë„ë¡ í•´ì•¼ í•œë‹¤.</p><h3 id="_5-less-á„ƒá…¢á„‰á…µá†«-á„‰á…¡á„‹á…­á†¼á„’á…¡á„‚á…³á†«-moreá„’á…¡á†·á„‰á…®-á„€á…®á„’á…§á†«" tabindex="-1"><a class="header-anchor" href="#_5-less-á„ƒá…¢á„‰á…µá†«-á„‰á…¡á„‹á…­á†¼á„’á…¡á„‚á…³á†«-moreá„’á…¡á†·á„‰á…®-á„€á…®á„’á…§á†«"><span>5) less ëŒ€ì‹  ì‚¬ìš©í•˜ëŠ” moreí•¨ìˆ˜ êµ¬í˜„</span></a></h3><ul><li>ìœ„ì— ë§í•œ ê²ƒ ì²˜ëŸ¼ ìš°ë¦° less í•¨ìˆ˜ì˜ ë°˜ëŒ€ë¡œ true/falseë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ë©´ ëœë‹¤.</li><li>í•´ë‹¹ í•¨ìˆ˜ëŠ” ë‚˜ì¤‘ì— ê³„ì†í•´ì„œ ì‚¬ìš©í•˜ê³  sortë¥¼ í• ë•Œë„ ì‚¬ìš©í•˜ë‹ˆ ì£¼ì˜ê¹Šê²Œ ë´ì•¼ í•œë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/*ì•ì—ê°€ í¬ë©´ true!*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">more</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">aux</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread, elem)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            &gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (b, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread, elem)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="_6-list-push-back-á„…á…³á†¯-list-insert-ordered-á„…á…©-á„‰á…®á„Œá…¥á†¼-á„’á…¡á„€á…µ" tabindex="-1"><a class="header-anchor" href="#_6-list-push-back-á„…á…³á†¯-list-insert-ordered-á„…á…©-á„‰á…®á„Œá…¥á†¼-á„’á…¡á„€á…µ"><span>6) list_push_back()ë¥¼ list_insert_ordered() ë¡œ ìˆ˜ì • í•˜ê¸°</span></a></h3><ul><li>ìš°ë¦¬ê°€ ë°”ê¾¸ì–´ì•¼ í•  í•¨ìˆ˜ëŠ” ì´ 3ê°œì´ë‹¤. <ul><li>thread_sleep()</li><li>thread_unblock()</li><li>thread_yield()</li></ul></li></ul><h3 id="_7-á„‰á…µá†¯á„’á…¢á†¼-á„Œá…®á†¼á„‹á…µá†«-threadá„‹á…´-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±á„€á…¡-á„‡á…¡á„á…±á„‚á…³á†«-á„á…¦á„‹á…µá„‰á…³" tabindex="-1"><a class="header-anchor" href="#_7-á„‰á…µá†¯á„’á…¢á†¼-á„Œá…®á†¼á„‹á…µá†«-threadá„‹á…´-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±á„€á…¡-á„‡á…¡á„á…±á„‚á…³á†«-á„á…¦á„‹á…µá„‰á…³"><span>7) ì‹¤í–‰ ì¤‘ì¸ threadì˜ ìš°ì„ ìˆœìœ„ê°€ ë°”ë€ŒëŠ” ì¼€ì´ìŠ¤</span></a></h3><ul><li>ì‹¤í–‰ì¤‘ì¸ threadì˜ ìš°ì„ ìˆœìœ„ê°€ ë°”ë€ŒëŠ” ì¼€ì´ìŠ¤ëŠ” ë‘ê°€ì§€ ì´ë‹¤. <ul><li>thread_create()</li><li>thread_set_priority()</li></ul></li><li>ë”°ë¼ì„œ ìœ„ ê²½ìš° ì§„í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ í˜„ì¬ ready_listì—ì„œ ê°€ì¥ í°(ë§¨ì•) threadì™€ ë¹„êµí•˜ì—¬ thread_yield()í•´ì£¼ë©´ ëœë‹¤.</li><li>ì´ ì¼€ì´ìŠ¤ëŠ” ì•ìœ¼ë¡œ ë” ìˆì„ ê²ƒ ê°™ìœ¼ë‹ˆ í•¨ìˆ˜ë¡œ ë§Œë“¤ì</li><li>í•œê°€ì§€ ì¶”ê°€ ì¡°ê±´ìœ¼ë¡œëŠ” â€˜í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œê°€ idle_threadê°€ ì•„ë‹ ì¡°ê±´ë„ ì¶”ê°€ í•˜ì˜€ë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/*ì§€ê¸ˆ ì‹¤í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ì™€ ready_list ë§¨ ì•ì— ìŠ¤ë ˆë“œìš°ì„ ìˆœìœ„ë¥¼ ë¹„êµí•˜ì—¬ y*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_comp_ready</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">curr </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ready_list), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread , elem)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">curr </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> e </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> idle_thread){</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        thread_yield</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>ìœ„ì™€ê°™ì´ ë§Œë“  í•¨ìˆ˜ë¥¼ ê°ê° ë„£ì–´ì£¼ë©´ ëœë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_set_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> new_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">curr </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    curr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> new_priority;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    thread_comp_ready</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">tid_t</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_create</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> char</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        thread_func </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">aux</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    /* Add to run queue. */</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    thread_unblock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (t);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    thread_comp_ready</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tid;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>ê²°ê³¼</li></ul><figure><img src="/vue-press/assets/Untitled5-8r28olS5.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><h2 id="_4-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-scheduling-2" tabindex="-1"><a class="header-anchor" href="#_4-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-scheduling-2"><span>4. ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¥´ë§(Priority Scheduling)_2</span></a></h2><h3 id="_1-á„†á…©á†¨á„‘á…­-1" tabindex="-1"><a class="header-anchor" href="#_1-á„†á…©á†¨á„‘á…­-1"><span>1) ëª©í‘œ</span></a></h3><ul><li>ì£¼ì–´ì§„ ë™ê¸°í™” ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ìŠ¤ë ˆë“œë¥¼ ìŠ¤ì¼€ì¥´ë§í•˜ì</li></ul><h3 id="_2-á„ƒá…©á„€á…®" tabindex="-1"><a class="header-anchor" href="#_2-á„ƒá…©á„€á…®"><span>2) ë„êµ¬</span></a></h3><ul><li>Semaphore <ul><li>value : ê³µìœ ìì›ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.</li><li>list waiters : ê³µìœ ìì›ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ëŒ€ê¸°í•˜ëŠ” ìŠ¤ë ˆë“œ ë¦¬ìŠ¤íŠ¸</li><li><code>struct semaphore { unsigned value; /* Current value. */ struct list waiters; /* ëŒ€ê¸° ì¤‘ì¸ ìŠ¤ë ˆë“œ ëª©ë¡. */ };</code></li></ul></li><li>Lock <ul><li>thread holder : í˜„ì¬ í•´ë‹¹ lockì„ ê°–ê³  ìˆëŠ” ìŠ¤ë ˆë“œ</li><li>semaphore</li><li><code>struct lock { struct thread *holder; struct semaphore semaphore; /* ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ë°”ì´ë„ˆë¦¬ ì„¸ë§ˆí¬ì–´. */ };</code></li></ul></li><li>Condition variable <ul><li>list waiters : Condition variableê°€ ë§Œì¡±í•˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” waiters ë¦¬ìŠ¤íŠ¸</li><li><code>struct condition { struct list waiters; /* List of waiting threads. */ };</code></li></ul></li></ul><h3 id="_3-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-01-semaphore" tabindex="-1"><a class="header-anchor" href="#_3-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-01-semaphore"><span>3) ë¬¸ì œ í•´ê²° ë°©ë²•_01_Semaphore</span></a></h3><ul><li>ê³µìœ ìì› í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ sema downë˜ì–´ waiters ë¦¬ìŠ¤íŠ¸ì— ìˆë‹¤ê³  ê°€ì •í•˜ì</li><li>ê³µìœ ìì›ì„ ì‚¬ìš©í•˜ë˜ ìŠ¤ë ˆë“œê°€ ì‚¬ìš©ì„ ë§ˆì¹˜ê³  sema upì„ í• ë•Œ ì–´ë–¤ ìŠ¤ë ˆë“œë¥¼ ë¨¼ì € ì‚¬ìš©í• ì§€ ê³ ë¯¼ í•´ì•¼ í•œë‹¤.</li><li>í•˜ì§€ë§Œ ìš°ë¦° ìœ„ ë¬¸ì œë¥¼ ì´ë¯¸ ê³ ë ¤ë¥¼ í–ˆë˜ ì ì´ ìˆë‹¤. (ì ìëŠ” ìŠ¤ë ˆë“œë¥¼ ê¹¨ìš¸ë•Œ)</li><li>ë™ì¼í•˜ê²Œ waiters ë¦¬ìŠ¤íŠ¸ì— ë„£ì„ë•Œ ì •ë ¬í•´ì„œ ë„£ê³ , Popí• ë•ŒëŠ” ë§¨ ì•ì— elemì„ popí•˜ë©´ ëœë‹¤. <ul><li>ì£¼ëª©í•  ì ì€ list_insert_ordered()ì‚¬ìš© ì‹œ more í•¨ìˆ˜ë¡œ ì¸ìë¥¼ â€˜ë™ì¼í•˜ê²Œâ€™ì‚¬ìš©í•œ ì ì´ë‹¤.</li></ul></li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//synch.c</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/*ë¦¬ìŠ¤íŠ¸ì— ë„£ì„ë•Œ ì •ë ¹ë˜ê²Œ ë„£ëŠ”ë‹¤.*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sema_down</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> semaphore </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    enum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> intr_level old_level;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (sema </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intr_context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    old_level </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> intr_disable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // list_push_back (&amp;sema-&gt;waiters, &amp;thread_current ()-&gt;elem);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        list_insert_ordered</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ()-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, more, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        thread_block</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">--</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    intr_set_level</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (old_level);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ì¶”ê°€ë¡œ popí• ë•Œ(sema_up)ëŠ” ê·¸ëƒ¥ ë¹¼ë©´ ë˜ì§€ë§Œ ë¹¼ê¸° ì „ ë¦¬ìŠ¤íŠ¸ì— ìˆë˜ ìƒíƒœì—ì„œ ìš°ì„ ìˆœìœ„ ê°’ì´ ë°”ë€ŒëŠ” ì¼€ì´ìŠ¤ê°€ ìˆê¸° ë•Œë¬¸ì— sortë¥¼ í•œë²ˆ í•´ì¤€ë‹¤. <ul><li>ë™ì¼í•˜ê²Œ more í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ì ì„ ì£¼ëª©</li><li>unblock() ì´í›„ unblockëœ ìŠ¤ë ˆë“œê°€ running ìŠ¤ë ˆë“œë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ì„ ìˆ˜ ìˆì–´ thread_comp_ready() ì‹¤í–‰ â†’ CPUì„ ì </li></ul></li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sema_up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> semaphore </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    enum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> intr_level old_level;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (sema </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    old_level </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> intr_disable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        list_sort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, more, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // ì†”íŠ¸ ì¶”ê°€í•œê±°</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        thread_unblock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_pop_front</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread, elem));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    sema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    thread_comp_ready</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              //ì‹¤í–‰ ë˜ê¸°ì „ ìŠ¤ìºì¥´ë§ì„ ìœ„í•´</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    intr_set_level</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (old_level);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-02-lock" tabindex="-1"><a class="header-anchor" href="#_4-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-02-lock"><span>4) ë¬¸ì œ í•´ê²° ë°©ë²•_02_Lock</span></a></h3><ul><li>lock_acquire í•¨ìˆ˜ì™€ lock_release í•¨ìˆ˜ëŠ” sema_up/downìœ¼ë¡œ ëë‚œë‹¤.</li><li>lockì€ semaphoreì™€ ë™ì¼í•˜ê²Œ ë™ì‘ í•˜ë¯€ë¡œ ë³„ë„ ì²˜ë¦¬ëŠ” ìš°ì„  í•„ìš” ì—†ë‹¤.</li></ul><h3 id="_5-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-03-condition-variables" tabindex="-1"><a class="header-anchor" href="#_5-á„†á…®á†«á„Œá…¦-á„’á…¢á„€á…§á†¯-á„‡á…¡á†¼á„‡á…¥á†¸-03-condition-variables"><span>5) ë¬¸ì œ í•´ê²° ë°©ë²•_03_Condition variables</span></a></h3><ul><li>semaphoreì™€ ë°©ì‹ì€ ë™ì¼í•˜ë‚˜ ì°¨ì´ì ì´ í•˜ë‚˜ ìˆë‹¤.</li><li>condition variablesì˜ waitersëŠ” ì„¸ë§ˆí¬ì–´ë“¤ì˜ ë¦¬ìŠ¤íŠ¸ ì´ë‹¤. <ul><li>ì•„ë˜ ëŠ” cond_wait()ì— ìˆëŠ” list_push_back()ì´ë‹¤.</li></ul></li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_push_back</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cond</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">waiter.elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><ul><li>ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ í•¨ìˆ˜ì´ì§€ë§Œ elemë¥¼ ë„£ëŠ” ì¸ìë¥¼ ì£¼ëª©í•´ì„œ ë´ì•¼ í•œë‹¤. <ul><li>ìœ„ì— ë§í•œ ê²ƒ ì²˜ëŸ¼ ìš”ê¸°ì„œì˜ waiterëŠ” ì„¸ë§ˆí¬ì–´ì˜ elementì´ë‹¤.</li><li>ì´ë²ˆì—ëŠ” ì…ë ¥ë°›ëŠ” íŒŒë¼ë¯¸í„°ê°€ ìŠ¤ë ˆë“œê°€ ì•„ë‹ˆë¼ semaphore_elem.elemë¡œ ë“¤ì–´ì˜¤ê¸°ì— list_insert_ordered() í•¨ìˆ˜ì— ë“¤ì–´ê°ˆ more í•¨ìˆ˜ë¥¼ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.</li></ul></li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//synch.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sema_more</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">aux</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> semaphore_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sa </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> semaphore_elem, elem);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> semaphore_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sb </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (b, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> semaphore_elem, elem);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">waiter_sa </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sa</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">semaphore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">waiter_sb </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">semaphore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> more</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(waiter_sa), </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(waiter_sb), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>ì´ì œ semaphore í•¨ìˆ˜ë“¤ê³¼ ê°™ì´ condí•¨ìˆ˜ë“¤ë„ ìˆ˜ì •í•˜ë©´ ëœë‹¤.</li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//synch.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cond_wait</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> condition </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">cond</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> semaphore_elem waiter;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (cond </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intr_context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ());</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lock_held_by_current_thread</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sema_init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">waiter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">semaphore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // list_push_back (&amp;cond-&gt;waiters, &amp;waiter.elem);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    list_insert_ordered</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cond</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">waiter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> , sema_more, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    lock_release</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sema_down</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">waiter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">semaphore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    lock_acquire</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>signal í•¨ìˆ˜ì—ì„œ sema_up ì „ ìš°ì„ ìˆœìœ„ê°€ ë°”ë€ŒëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ìˆì–´ sortë¥¼ í•œë²ˆ í•´ì¤€ë‹¤.</li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//synch.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cond_signal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> condition </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">cond</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">lock </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">UNUSED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> semaphore </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sema;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (cond </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intr_context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ());</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lock_held_by_current_thread</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cond</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        list_sort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cond </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, sema_more, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //ì¶”ê°€í•œê±°</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        sema_up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_pop_front</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cond</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">waiters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> semaphore_elem, elem)-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">semaphore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ê²°ê³¼</li></ul><figure><img src="/vue-press/assets/Untitled6-DkzPMuCb.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><h2 id="_5-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-inversion-donation" tabindex="-1"><a class="header-anchor" href="#_5-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±-á„‰á…³á„á…¦á„Œá…²á†¯á„…á…µá†¼-priority-inversion-donation"><span>5. ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¥´ë§(Priority Inversion)_donation</span></a></h2><h3 id="_1-á„†á…®á†«á„Œá…¦-á„†á…µá†¾-á„†á…©á†¨á„‘á…­" tabindex="-1"><a class="header-anchor" href="#_1-á„†á…®á†«á„Œá…¦-á„†á…µá†¾-á„†á…©á†¨á„‘á…­"><span>1) ë¬¸ì œ ë° ëª©í‘œ</span></a></h3><ul><li>ì—¬ëŸ¬ìŠ¤ë ˆë“œê°€ lockì„ ìš”ì²­í•˜ê³  ì ìœ í•˜ëŠ” ê³¼ì •ì—ì„œ Poriority inversionì´ ë°œìƒ</li><li>ì´ Poriority inversion ë°œìƒì„ ë§‰ê¸° ìœ„í•´ Priority donationì´ë¼ëŠ” ê°œë…ì„ ë„ì…í•˜ì—¬ ìŠ¤ë ˆë“œë“¤ì´ ìš°ì„ ìˆœìœ„ëŒ€ë¡œ ì‹¤í–‰ ë˜ë„ë¡ í•œë‹¤.</li></ul><h3 id="_2-poriority-inversion-á„ƒá…¢á„‹á…³á†¼á„‹á…³á†¯-á„‹á…±á„’á…¡á†«-á„ƒá…®á„€á…¡á„Œá…µ-á„á…¦á„‹á…µá„‰á…³" tabindex="-1"><a class="header-anchor" href="#_2-poriority-inversion-á„ƒá…¢á„‹á…³á†¼á„‹á…³á†¯-á„‹á…±á„’á…¡á†«-á„ƒá…®á„€á…¡á„Œá…µ-á„á…¦á„‹á…µá„‰á…³"><span>2) Poriority inversion ëŒ€ì‘ì„ ìœ„í•œ ë‘ê°€ì§€ ì¼€ì´ìŠ¤</span></a></h3><ul><li>Multiple donation</li><li>Nested donation</li></ul><h3 id="_3-multiple-donation" tabindex="-1"><a class="header-anchor" href="#_3-multiple-donation"><span>3) Multiple donation</span></a></h3><ul><li>í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ê°–ê³  ìˆëŠ” lockì— ëŒ€í•´ì„œ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ìš”ì²­í•˜ì—¬ Multiple donationì´ ì¼ì–´ë‚œ ìƒí™©ì´ë‹¤.</li></ul><figure><img src="/vue-press/assets/Untitled7-Bhqoawqb.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><h3 id="_4-nested-donation" tabindex="-1"><a class="header-anchor" href="#_4-nested-donation"><span>4) Nested donation</span></a></h3><ul><li>HìŠ¤ë ˆë“œê°€ aë½ì„ ì–»ìœ¼ë ¤ê³  í•˜ì§€ë§Œ aë½ì€ MìŠ¤ë ˆë“œê°€ ê°–ê³  ìˆê³ , ì´ MìŠ¤ë ˆë“œëŠ” bë½ì„ ì–»ìœ¼ë ¤ê³  í•œë‹¤.</li><li>ì´ì™€ê°™ì€ ê³¼ì •ì´ ë‹¨ê³„ì ìœ¼ë¡œ ì¼ì–´ë‚ ë•Œì˜ ë¬¸ì œ ì ì´ë‹¤.</li></ul><figure><img src="/vue-press/assets/Untitled8-BjeEmulM.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><p>ì, ë‘ ê²½ìš°ë¥¼ ëª¨ë‘ í•´ê²°í•´ ë³´ì</p><h3 id="_5-thread-á„€á…®á„Œá…©á„á…¦-á„‰á…®á„Œá…¥á†¼" tabindex="-1"><a class="header-anchor" href="#_5-thread-á„€á…®á„Œá…©á„á…¦-á„‰á…®á„Œá…¥á†¼"><span>5) Thread êµ¬ì¡°ì²´ ìˆ˜ì •</span></a></h3><ul><li>init_priority : ê³ ìœ ì˜ priority ê°’ì„ ì €ì¥í•´ ë‘”ë‹¤.</li><li>lock wait_lock : ë‚´ê°€ ì›í•´ì„œ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” lock(ì´ lockì´ release ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤.)</li><li>list donations : ë‚˜ì—ê²Œ priorityë¥¼ donation í•´ì¤€ ìŠ¤ë ˆë“œì˜ ë¦¬ìŠ¤íŠ¸</li><li>list_elem donations_elem : ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬ í•˜ê¸° ìœ„í•œ element</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.h</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    /*donation ê´€ë ¨*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> init_priority;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">wait_lock;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list dona;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list_elem dona_elem;</span></span></code></pre></div><h3 id="_6-init-thread-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼" tabindex="-1"><a class="header-anchor" href="#_6-init-thread-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼"><span>6) init_thread í•¨ìˆ˜ ìˆ˜ì •</span></a></h3><ul><li>ìë£Œêµ¬ì¡° ì´ˆê¸°í™”</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">init_thread</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> char</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    /*priority donation ê´€ë ¨ ìë£Œêµ¬ì¡° ì´ˆê¸°í™”*/</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">init_priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> priority;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">wait_lock</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    list_init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="_7-lock-acquire-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼" tabindex="-1"><a class="header-anchor" href="#_7-lock-acquire-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼"><span>7) lock_acquire í•¨ìˆ˜ ìˆ˜ì •</span></a></h3><ul><li>í°ê·¸ë¦¼ì„ ë¨¼ì € ì„¤ëª… í›„ ì½”ë“œë¥¼ ìˆ˜ì • í•˜ê² ë‹¤. <ul><li>ìŠ¤ë ˆë“œê°€ lockì´ í•„ìš”í•˜ë©´ í•´ë‹¹ lockìœ¼ë¡œ ìš”ì²­ì„ í•œë‹¤. ì´ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì´ë©°, ëˆ„êµ°ê°€ ì„ ì í•˜ê³  ìˆëŠ” ê²½ìš°ì™€ ì•„ë‹Œ ê²½ìš°ë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆê² ë‹¤.</li><li>ë„ë„¤ì´ì…˜ì€ lockì„ ì ìœ í•˜ê³  ìˆì„ë•Œë§Œ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</li></ul></li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//synch.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lock_acquire</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intr_context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ());</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lock_held_by_current_thread</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    /*done ì‹œì‘*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">lock </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">holder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                //lockì˜ holderê°€ ìˆëŠ” ê²½ìš°</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">wait_lock</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lock;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            //í•´ë‹¹ lockì„ ìŠ¤ë ˆë“œì˜ wait_lockìœ¼ë¡œ ì €ì¥</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //í•´ë‹¹ lockì„ ê°–ê³  ìˆë˜ ìŠ¤ë˜ë“œì˜ ë„ë„¤ì´ì…˜ ë¦¬ìŠ¤íŠ¸ì— tìŠ¤ë ˆë“œë¥¼ ë„£ëŠ”ë‹¤.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        list_insert_ordered</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">holder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona_elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, more, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        dona_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                //ë„ë„¤ì´ì…˜ ì‹œì‘!</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sema_down</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">semaphore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">wait_lock</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">holder</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-dona-priority-á„’á…¡á†·á„‰á…®-á„€á…®á„’á…§á†«" tabindex="-1"><a class="header-anchor" href="#_8-dona-priority-á„’á…¡á†·á„‰á…®-á„€á…®á„’á…§á†«"><span>8) dona_priority í•¨ìˆ˜ êµ¬í˜„</span></a></h3><ul><li>ì‹¤ì§ˆì ìœ¼ë¡œ ë‚´ê°€ ê°€ì§€ë ¤ê³  í•˜ëŠ” Lockì„ ê°–ê³  ìˆëŠ” ìŠ¤ë ˆë“œì—ê²Œ ë„ë„¤ì´ì…˜ì„ í•œë‹¤.</li><li>ìµœëŒ€ ê¹Šì´ëŠ” 8ê°œë¡œ ì œí•œí•˜ì—¬ ì£¼ì—ˆë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dona_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cur_t</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> depth </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; depth </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; depth</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cur_t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">wait_lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            break</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> cur_t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">wait_lock</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">holder;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> cur_t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        cur_t</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>ìš”ê¸°ê¹Œì§€ê°€ priority donationì´ ì™„ë£Œ ëœë‹¤.</li></ul><h3 id="_9-lock-release-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼" tabindex="-1"><a class="header-anchor" href="#_9-lock-release-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼"><span>9) lock_release í•¨ìˆ˜ ìˆ˜ì •</span></a></h3><ul><li>ìŠ¤ë ˆë“œê°€ priorityë¥¼ ì–‘ë„ë§ê³  critical sectionì„ ëë‚´ë©´ lockì„ ë°˜í™˜ í•˜ê²Œ ëœë‹¤.</li><li>ì´ë•Œ ê³¼ì •ì„ í•¨ìˆ˜ë¡œ ì •ë¦¬í•œë‹¤.</li><li>sema_upì„ í•˜ì—¬ lockì˜ ì ìœ ë¥¼ ë°˜í™˜ í•˜ê¸° ì „ì— í˜„ì¬ ë‚˜ì˜ lockì„ ì›í•˜ëŠ” ìŠ¤ë ˆë“œë“¤ì´ ë‚˜ì—ê²Œ priorityë¥¼ ë„ë„¤ì´ì…˜ í•´ì¤¬ì„ ê²ƒì´ë‹¤.</li><li>ì´ ìŠ¤ë ˆë“œë“¤ì´ dona_listì— ìˆì„ ê²ƒì´ê³  ì´ê²ƒë“¤ì„ ì‚­ì œ í•´ì•¼ í•œë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//synch.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lock_release</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ASSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lock_held_by_current_thread</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lock));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">holder</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    remove_with_lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(lock);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       //donaion ë¦¬ìŠ¤íŠ¸ì—ì„œ ë‚´ ë½ì„ ì›í•˜ëŠ” ìŠ¤ë ˆë“œ ì‚­ì œ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    refresh_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           //priority ë˜ëŒë¦¬ê¸°</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sema_up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">semaphore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>lock_release í•¨ìˆ˜ ìˆ˜ì • <ul><li>í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ë¥¼ ëŒë©´ì„œ ë‚´ lockê³¼ ë¦¬ìŠ¤íŠ¸ì— ë‚´ lockì„ ì›í•˜ëŠ” ìŠ¤ë ˆë“œë“¤ì„ ëª¨ë‘ ì‚­ì œ í•œë‹¤.</li></ul></li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_with_lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> lock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list_elem </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">temp;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (temp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">!=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> temp; temp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (temp)){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">t_t</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(temp, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread, dona_elem);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">wait_lock</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lock){</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            list_remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona_elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="_10-refresh-priority-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼" tabindex="-1"><a class="header-anchor" href="#_10-refresh-priority-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼"><span>10) Refresh_priority í•¨ìˆ˜ ìˆ˜ì •</span></a></h3><ul><li>ì¤‘ìš” í¬ì¸íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. <ul><li>lockì´ releaseëœ ìŠ¤ë ˆë“œëŠ” ì›ë˜ priorityë¥¼ ë‹¤ì‹œ ì €ì¥ í•œë‹¤.</li><li>ë§Œì•½ dona ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´, ìš°ì„  í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ë¥¼ sort í•´ì¤€ë‹¤. <ul><li>ë¦¬ìŠ¤íŠ¸ì— ìˆìœ¼ë©´ì„œ priorityê°€ ë³€ê²½ëœ ì¼€ì´ìŠ¤ê°€ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</li></ul></li><li>remove ë˜ì§€ ì•Šì€ ë‚¨ì€ ìŠ¤ë ˆë“œì—ì„œ priorityê°€ ê°€ì¥ í° (ë§¨ ì•ì— ë¦¬ìŠ¤íŠ¸) ìŠ¤ë ˆë“œì™€ í˜„ì¬ ìŠ¤ë ˆë“œì˜ priorityë¥¼ ë¹„êµí•˜ì—¬ í°ê²ƒì„ í˜„ì¬ ìŠ¤ë ˆë“œì— í• ë‹¹í•œë‹¤.</li></ul></li></ul><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">refresh_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //í˜„ì¬ ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ê¸°ë¶€ë°›ê¸° ì „ì˜ ìš°ì„ ìˆœìœ„ë¡œ ë³€ê²½</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> t </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">init_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        list_sort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, more, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">temp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> list_entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list_front</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dona</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread, dona_elem);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">temp </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> temp </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-thread-set-priority-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼" tabindex="-1"><a class="header-anchor" href="#_11-thread-set-priority-á„’á…¡á†·á„‰á…®-á„‰á…®á„Œá…¥á†¼"><span>11) thread_set_priority í•¨ìˆ˜ ìˆ˜ì •</span></a></h3><ul><li>í•œ ê°€ì§€ ì¶”ê°€ë¡œ ê³ ë ¤í•´ì•¼ í• ì ì´ ìˆë‹¤.</li><li>thread_set_priorityí•¨ìˆ˜ì—ì„œëŠ” í˜„ì¬ ìŠ¤ë ˆë“œì˜ priorityê°’ì„ ê°’ìê¸° ë³€ê²½ í•  ê²½ìš°ê°€ ìˆë‹¤. <ul><li>ì´ë•Œ priorityëŠ” init_pritorityë¥¼ ë§í•œë‹¤.</li></ul></li><li>ì´ë•Œì—ëŠ” yield ì „ì— refresh_priority ë¥¼ í•œë²ˆ í•´ì¤˜ì•¼ í•œë‹¤.</li></ul><div class="language-c" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//thread.c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">thread_set_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> new_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> thread </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">curr </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> thread_current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    curr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">init_priority</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> new_priority;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    refresh_priority</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    thread_comp_ready</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>ê²°ê³¼</li></ul><figure><img src="/vue-press/assets/Untitled9-Db0ki0Lw.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><h2 id="á„‡á…¢á„‹á…®á†«á„Œá…¥á†·-á„’á…¬á„€á…©" tabindex="-1"><a class="header-anchor" href="#á„‡á…¢á„‹á…®á†«á„Œá…¥á†·-á„’á…¬á„€á…©"><span>ë°°ìš´ì , íšŒê³ </span></a></h2><ul><li><p>ë§¤ìš° í˜ë“¤ì—ˆë‹¤. ê·¸ë˜ë„ ë§ì´ ë”°ë¼ê°”ë‹¤. ë” ì—´ì‹¬íˆ í•´ì•¼ í•œë‹¤.</p></li><li><p>ì˜ì–´ê°€ ë§ì´ ë¬¸ì œì´ë‹¤. ë‹¨ì–´ ê³µë¶€ ê¾¸ì¤€íˆ í•˜ì.</p></li><li><p>ì‚¬ê³ ê°€ ëŠë¦¬ë©´ ì‹œê°„ì„ ë” ë“¤ì—¬ì„œ ë³´ì.</p></li></ul></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/kyu91/kyu91.github.io/edit/main/src/dev/SWì‚¬ê´€í•™êµì •ê¸€/WEEK08-PintOS_Project1_Threads.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank" iconsizing="both"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ë§ˆì§€ë§‰ ìˆ˜ì •: </span><span class="vp-meta-info" data-allow-mismatch="text">2024. 9. 4. ì˜¤í›„ 3:24:43</span></div><div class="contributors"><span class="vp-meta-label">ê¸°ì—¬ì: </span><!--[--><!--[--><span class="vp-meta-info" title="email: hongsk5689@gmail.com">kyu91</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: hongsk5689@gmail.com">ëŒ€ì›…í«</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK07-%EC%9B%B9%20%EC%84%9C%EB%B2%84%20%EA%B5%AC%EC%B6%95(Tiny%EC%84%9C%EB%B2%84_%20Proxy)_C%EC%96%B8%EC%96%B4.html" aria-label="WEEK07-ì›¹ ì„œë²„ êµ¬ì¶•(Tinyì„œë²„, Proxy)_Cì–¸ì–´" iconsizing="both"><div class="hint"><span class="arrow start"></span>ì´ì „</div><div class="link"><i class="vp-icon fas fa-pen-to-square" sizing="height"></i>WEEK07-ì›¹ ì„œë²„ êµ¬ì¶•(Tinyì„œë²„, Proxy)_Cì–¸ì–´</div></a><a class="route-link auto-link next" href="/vue-press/dev/SW%EC%82%AC%EA%B4%80%ED%95%99%EA%B5%90%EC%A0%95%EA%B8%80/WEEK09-Pintos_Project2_User%20Program.html" aria-label="WEEK09-Pintos_Project2_User Program" iconsizing="both"><div class="hint">ë‹¤ìŒ<span class="arrow end"></span></div><div class="link">WEEK09-Pintos_Project2_User Program<i class="vp-icon fas fa-pen-to-square" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">Default footer</div><div class="vp-copyright">Copyright Â© 2025 Levi </div></footer></div><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/vue-press/assets/app-Og-obTMj.js" defer></script>
  </body>
</html>
